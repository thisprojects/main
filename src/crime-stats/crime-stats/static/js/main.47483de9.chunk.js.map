{"version":3,"sources":["pointer.png","main-components/filters-errors-loading-components.js","js-functions/js-functions.js","main-components/start-menu-components.js","main-components/crime-components.js","crime-stats.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Loading","props","id","className","loading","icon","faSpinner","size","spin","Errors","style","errors","display","Filters","filterState","MapFilterCategories","categories","Object","keys","totalCrimeCount","map","category","index","key","type","name","value","count","toFixed","resetFilters","y","document","querySelectorAll","i","length","checked","postCodeApiCall","postCode","querySelector","fetch","then","r","json","results","geometry","location","catch","e","console","log","policeApiCall","lat","lng","year","month","locationSort","a","b","street","outcomeSort","filterResults","x","z","forEach","filterItem","state","push","filter","item","generateYears","currentYear","Date","getFullYear","years","Slider","onClick","showAndHideSliders","selector","slideClass","theClass","label","PostCode","placeholder","SubmitButton","buttonClick","Year","defaultValue","YearPicker","Month","MonthPicker","MapCrimeResults","SortCrimes","totalCrimes","onChange","CrimeStats","applyLocationSort","applyOutcomeSort","CrimeApp","setResults","setState","crimeResults","filteredResults","reduce","acc","curr","errorState","loadingState","classList","toggle","sort","this","applyFilters","addEventListener","t","target","locationSetByDrag","Array","isArray","setFilterListeners","evt","latLng","callCrimeApi","faPlayCircle","async","initialCenter","center","google","zoom","position","draggable","onDragend","coord","onMarkerDragEnd","faFilter","Component","GoogleApiWrapper","apiKey","App","Boolean","window","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.47483de9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport function Loading(props) {\n  return (\n    <div\n      id=\"loading\"\n      className={props.loading ? \"show-loading\" : \"hide-loading\"}\n    >\n      <h1>LOADING</h1>\n      <FontAwesomeIcon icon={faSpinner} size=\"3x\" spin />\n      <p>Major cities may take some time.</p>\n    </div>\n  );\n}\n\nexport function Errors(props) {\n  return (\n    <div style={!props.errors ? { display: \"none\" } : {}}>\n      <h3>{props.errors}</h3>\n    </div>\n  );\n}\n\nexport function Filters(props) {\n  if (props.filterState) {\n    return (\n      <div className=\"filters\">\n        <MapFilterCategories\n          categories={Object.keys(props.filterState)}\n          filterState={props.filterState}\n          totalCrimeCount={props.totalCrimeCount}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <p>Nothing To Filter</p>\n      </div>\n    );\n  }\n}\n\nexport function MapFilterCategories(props) {\n  return props.categories.map((category, index) => (\n    <span key={index} className=\"filter-container\">\n      <label key={index + 1}>\n        <input\n          key={index + 2}\n          type=\"checkbox\"\n          name={category}\n          value={category}\n        />\n        <span key={index + 3} className=\"filter-item-wrapper\">\n          <p key={index + 4} className=\"category-header\">\n            {category}\n          </p>\n          <p key={index + 5} className=\"category-count\">\n            {props.filterState[category].count} Counts{\" \"}\n          </p>\n          <p key={index + 6} className=\"category-percentage\">\n            (\n            {(\n              (props.filterState[category].count / props.totalCrimeCount) *\n              100\n            ).toFixed(2)}{\" \"}\n            %)\n          </p>\n        </span>\n      </label>\n    </span>\n  ));\n}\n","export const key ='AIzaSyCyNv5BOZZfdKO3VDhQCOA3Ufm8tv8rCF8';\n\nexport const resetFilters = () => {\n  let y = document.querySelectorAll(\".filter-container input\");\n  for (let i = 0; i < y.length; i++) {\n    y[i].checked = false;\n  }\n};\n\nexport const postCodeApiCall = () => {\n  let postCode = document.querySelector(\"#post-code\").value;\n  return fetch(\n    `https://maps.googleapis.com/maps/api/geocode/json?address=${postCode},uk&key=${key}`\n  )\n    .then(r => r.json())\n    .then(r => r.results[0].geometry.location)\n    .catch(e => {\n      console.log(\"Location API Error - Invalid Location ----->\", e);\n      return \"Location Error - Location is invalid. Remember only UK locations will return results.\";\n    });\n};\n\nexport const policeApiCall = (lat, lng) => {\n  let year = document.querySelector(\"#year-select\").value;\n  let month = document.querySelector(\"#month-select\").value;\n  return fetch(\n    `https://data.police.uk/api/crimes-street/all-crime?lat=${lat}&lng=${lng}&date=${year}-${month}`\n  )\n    .then(r => r.json())\n    .catch(e => {\n      console.log(\"Police API Error - Caught Error Is ----->\", e);\n      return \"Crime API Error - Try an earlier month.\";\n    });\n};\n\nexport const locationSort = (a, b) => {\n  if (a.location.street.name < b.location.street.name) return -1;\n  if (a.location.street.name > b.location.street.name) return 1;\n  return 0;\n};\n\nexport const outcomeSort = (a, b) => {\n  if (a[\"outcome_status\"] === null) return 1;\n  if (b[\"outcome_status\"] === null) return -1;\n  if (a[\"outcome_status\"].category < b[\"outcome_status\"].category) return -1;\n  if (a[\"outcome_status\"].category > b[\"outcome_status\"].category) return 1;\n  return 0;\n};\n\nexport const makeFilterStates = categories => {\n  return categories.reduce((acc, curr) => {\n    if (!acc[curr.category]) {\n      acc[curr.category] = {};\n      acc[curr.category].state = false;\n      acc[curr.category].count = 1;\n    } else {\n      acc[curr.category].count++;\n    }\n    return acc;\n  }, {});\n};\n\nexport const filterResults = (filterState, results) => {\n  let x = Object.keys(filterState);\n  let z = [];\n  x.forEach(filterItem => {\n    if (filterState[filterItem].state === true) {\n      z.push(...results.filter(item => item.category === filterItem));\n    }\n  });\n  return z.length > 0 ? z : results;\n};\n\nexport const generateYears = () => {\n  let newDate = new Date();\n  let currentYear = newDate.getFullYear();\n  let years = [currentYear];\n  for (let i = 0; i < 10; i++) {\n    years.push(currentYear - (i + 1));\n  }\n  return years;\n};\n","import React from \"react\";\nimport { generateYears } from \"../js-functions/js-functions\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport function Slider(props) {\n  return (\n    <div\n      onClick={() => props.showAndHideSliders(props.selector, props.slideClass)}\n      className={props.theClass}\n    >\n      <FontAwesomeIcon icon={props.icon}/>\n      <p>{props.label}</p>\n    </div>\n  );\n}\n\nexport function PostCode(props) {\n  return (\n    <div className=\"postcode-picker\">\n      <input id=\"post-code\" type=\"text\" placeholder=\"Location\" />\n    </div>\n  );\n}\n\nexport function SubmitButton(props) {\n  return (\n    <div className=\"submit-button\">\n      <button\n        onClick={() => {\n          props.buttonClick();\n        }}\n      >\n        Submit\n      </button>\n    </div>\n  );\n}\n\nexport const Year = () => {\n  return (\n    <div className=\"date-year\">\n      <span>Year</span>\n      <select id=\"year-select\" defaultValue={\"2019\"}>\n        <YearPicker years={generateYears()} />\n      </select>\n    </div>\n  );\n};\n\nexport const YearPicker = props => {\n  return props.years.map(year => (\n    <option key={year} value={year}>\n      {year}\n    </option>\n  ));\n};\n\nexport const Month = () => {\n  return (\n    <div className=\"date-month\">\n      <span>Month</span>\n      <select id=\"month-select\">\n        <MonthPicker />\n      </select>\n    </div>\n  );\n};\n\nexport const MonthPicker = () => {\n  let months = [\n    \"01\",\n    \"02\",\n    \"03\",\n    \"04\",\n    \"05\",\n    \"06\",\n    \"07\",\n    \"08\",\n    \"09\",\n    \"10\",\n    \"11\",\n    \"12\"\n  ];\n  return months.map(month => (\n    <option key={month} value={month}>\n      {month}\n    </option>\n  ));\n};\n","import React from \"react\";\n\nexport function MapCrimeResults(props) {\n  if (props.results.length > 0) {\n    return props.results.map((results, index) => (\n      <div key={index} className=\"stat-row\">\n        <span className=\"result-category\">{results.category}</span>\n        <span className=\"result-location\">{results.location.street.name}</span>\n        <span className=\"result-outcome\">\n          {results[\"outcome_status\"] !== null\n            ? results[\"outcome_status\"].category\n            : \"No Outcome Recorded\"}\n        </span>\n      </div>\n    ));\n  } else {\n    return (\n      <div className=\"no-results\">\n        <p>\n          No Results - Click start to choose a location. Results are only\n          available for UK locations\n        </p>\n      </div>\n    );\n  }\n}\n\nexport const SortCrimes = props => {\n  return (\n    <div className=\"total-crimes\">\n      <p>Total Crimes {props.totalCrimes}</p>\n      <input\n        type=\"radio\"\n        name=\"sort\"\n        value=\"location\"\n        onChange={() => props.locationSort()}\n      />\n      <p>Location Sort</p>\n      <input\n        type=\"radio\"\n        name=\"sort\"\n        value=\"outcome\"\n        onChange={() => props.outcomeSort()}\n      />\n      <p>Outcome Sort</p>\n    </div>\n  );\n};\n\nexport function CrimeStats(props) {\n  return (\n    <div className=\"crime-stats\">\n      <SortCrimes\n        totalCrimes={props.results.length}\n        locationSort={props.applyLocationSort}\n        outcomeSort={props.applyOutcomeSort}\n      />\n      <div className=\"results-table\">\n        <MapCrimeResults results={props.results} />\n      </div>\n    </div>\n  );\n}\nexport default CrimeStats;\n","import React, { Component } from \"react\";\nimport { Map, GoogleApiWrapper, Marker } from \"google-maps-react\";\nimport {\n  Filters,\n  Errors,\n  Loading\n} from \"./main-components/filters-errors-loading-components\";\nimport {\n  PostCode,\n  Year,\n  Month,\n  Slider,\n  SubmitButton\n} from \"./main-components/start-menu-components\";\nimport {\n  postCodeApiCall,\n  policeApiCall,\n  makeFilterStates,\n  resetFilters,\n  filterResults,\n  locationSort,\n  outcomeSort,\n  key\n} from \"./js-functions/js-functions\";\nimport CrimeStats from \"./main-components/crime-components.js\";\nimport { faFilter } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPlayCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport icon from \"./pointer.png\";\n\nexport class CrimeApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lat: 1,\n      lng: 52,\n      crimeResults: [],\n      filteredResults: [],\n      filterState: {},\n      errorState: null,\n      loadingState: null\n    };\n  }\n\n  setResults = (results, errors, loading) => {\n    this.setState({\n      crimeResults: results,\n      filteredResults: results,\n      filterState: makeFilterStates(results),\n      errorState: errors || null,\n      loadingState: loading || null\n    });\n  };\n\n  setFilterListeners() {\n    let x = document.querySelectorAll(\".filter-container input\");\n    for (let i = 0; i < x.length; i++) {\n      // Keep filter checkbox value and filter states in sync\n      if (\n        x[i].checked === true &&\n        this.state.filterState[x[i].name.state] === false\n      ) {\n        this.state.filterState[x[i].name].state = true;\n        this.applyFilters();\n      }\n\n      // Listen for filter element clicks\n      x[i].addEventListener(\"click\", e => {\n        let t = e.target;\n        this.state.filterState[t.name].state = t.checked;\n        this.applyFilters();\n      });\n    }\n  }\n\n  async callCrimeApi(locationSetByDrag) {\n    let results = await policeApiCall(this.state.lat, this.state.lng);\n\n    //If a results array is returned, display the results. If not, display errors.\n    Array.isArray(results)\n      ? this.setResults(results, null, false)\n      : this.setResults([], results, false);\n    resetFilters();\n    this.setFilterListeners();\n    if (!locationSetByDrag)\n      this.showAndHideSliders(\"#header-wrapper\", \"side-hide\");\n  }\n\n  applyFilters() {\n    this.setState({\n      filteredResults: filterResults(\n        this.state.filterState,\n        this.state.crimeResults\n      )\n    });\n  }\n\n  onMarkerDragEnd(evt) {\n    this.setState({\n      lat: evt.latLng.lat(),\n      lng: evt.latLng.lng(),\n      loadingState: true\n    });\n    this.callCrimeApi(true);\n  }\n\n  showAndHideSliders = (selector, slideClass) => {\n    let x = document.querySelector(selector);\n    x.classList.toggle(slideClass);\n  };\n\n  applyLocationSort = () => {\n    this.setState({\n      filteredResults: this.state.filteredResults.sort(locationSort)\n    });\n  };\n\n  applyOutcomeSort = () => {\n    this.setState({\n      filteredResults: this.state.filteredResults.sort(outcomeSort)\n    });\n  };\n\n  render() {\n    const submitButton = async () => {\n      let location = await postCodeApiCall();\n\n      // If a valid location is returned, set lat and lng then call crime API. If location is invalid, display errors.\n      if (location.lat && location.lng) {\n        this.setState({\n          lat: location.lat,\n          lng: location.lng,\n          loadingState: true\n        });\n        this.callCrimeApi();\n      } else {\n        this.setResults([], location);\n      }\n    };\n\n    return (\n      <div id=\"page-wrapper\">\n        <Loading loading={this.state.loadingState} />\n        <div id=\"header-wrapper\" className=\"side-slide side-hide\">\n          <Slider\n            showAndHideSliders={this.showAndHideSliders}\n            selector={\"#header-wrapper\"}\n            theClass={\"header-stub\"}\n            label={\"Start\"}\n            slideClass={\"side-hide\"}\n            icon={faPlayCircle}\n          />\n          <div className=\"header-active\">\n            <div className=\"start-menu-inputs\">\n              <PostCode />\n              <Month />\n              <Year />\n            </div>\n            <SubmitButton buttonClick={submitButton} />\n          </div>\n        </div>\n        <div id=\"map\" className=\"map\">\n          <Map\n            initialCenter={{\n              lat: 52.489471,\n              lng: -1.898575\n            }}\n            center={{\n              lat: this.state.lat,\n              lng: this.state.lng\n            }}\n            google={this.props.google}\n            zoom={13}\n          >\n            <Marker\n              icon={icon}\n              position={{ lat: this.state.lat, lng: this.state.lng }}\n              draggable={true}\n              onDragend={(map, t, coord) => this.onMarkerDragEnd(coord)}\n              name={\"Current location\"}\n            />\n          </Map>\n        </div>\n        <div className=\"filter-wrapper top-slide top-hide\">\n          <Filters\n            filterState={this.state.filterState}\n            totalCrimeCount={this.state.crimeResults.length}\n          />\n        </div>\n        <Slider\n          showAndHideSliders={this.showAndHideSliders}\n          selector={\".filter-wrapper\"}\n          theClass={\"filter-stub\"}\n          label={\"Filters\"}\n          slideClass={\"top-hide\"}\n          icon={faFilter}\n        />\n        <div\n          className=\"errors-wrapper\"\n          style={\n            this.state.errorState ? { display: \"flex\" } : { display: \"none\" }\n          }\n        >\n          <Errors errors={this.state.errorState} />\n        </div>\n        <div className=\"crime-stats-wrapper\">\n          <CrimeStats\n            results={this.state.filteredResults}\n            applyLocationSort={this.applyLocationSort}\n            applyOutcomeSort={this.applyOutcomeSort}\n          />\n        </div>\n      </div>\n    );\n  }\n}\nexport default GoogleApiWrapper({\n  apiKey: key\n})(CrimeApp);\n","import React from 'react';\nimport CrimeStats from './crime-stats.js'\nimport './root.css';\n\nfunction App() {\n  return (\n    <div className=\"wrapper\">\n    <CrimeStats />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}