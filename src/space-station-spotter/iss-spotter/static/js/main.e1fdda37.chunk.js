(this["webpackJsonpspace-station-spotter"]=this["webpackJsonpspace-station-spotter"]||[]).push([[0],{18:function(e,t,n){e.exports=n(46)},23:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),c=n.n(r),i=(n(23),n(6)),l=n.n(i),s=n(13),u=n(14),m=n(16),p=n(15),E=n(17),d=n(7),f=(n(39),"AIzaSyCyNv5BOZZfdKO3VDhQCOA3Ufm8tv8rCF8"),g=function(e,t){return new Promise((function(n,a){return fetch("https://cors-anywhere.herokuapp.com/http://api.open-notify.org/iss-pass.json?lat=".concat(e,"&lon=").concat(t,"&alt=20&n=3")).then((function(e){return e.json()})).then((function(e){return n(e.response||e.reason||"Unknown Error")})).catch((function(){return a("Network Request Failed")}))}))},h=function(e){return new Promise((function(t,n){return"api"===e?t(function(e){var t=document.querySelector(e).value;return fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(f)).then((function(e){return e.json()})).then((function(e){return e.results[0].geometry.location})).catch((function(e){return console.log("Location API Error - Invalid Location -----\x3e",e),"Location Error - Location is invalid."}))}("#location-input")):"geo"===e?t(new Promise((function(e,t){var n=setTimeout((function(){return t("GeoLocation Time Out")}),1e4);navigator.geolocation.getCurrentPosition((function(t){clearTimeout(n),e({lat:t.coords.latitude,lng:t.coords.longitude})}))}))):void 0}))},v=n(8),y=n(2),b=function(e){return o.a.createElement("div",{className:"location-error"},e.locationError?o.a.createElement("p",null,"Error - Location Unavailable Or Unable To Acquire Geolocation"):null)},S=function(e){return o.a.createElement("div",{className:"overlay",style:e.overlayState?{display:"flex"}:{display:"none"}},o.a.createElement("h1",null,"Space Station Spotter"),o.a.createElement("span",{className:"icon"},o.a.createElement(v.a,{icon:y.b,size:"3x"})),o.a.createElement(w,{submitLocation:e.submitLocation}),o.a.createElement("h2",null,"Or"),o.a.createElement("span",{className:"controls"},o.a.createElement(N,null),o.a.createElement(C,{submitLocation:e.submitLocation})),o.a.createElement(b,{locationError:e.locationError}),o.a.createElement("div",{className:"loading toggle-hide"},o.a.createElement(v.a,{icon:y.c,size:"3x",spin:!0})))},w=function(e){return o.a.createElement("div",{className:"geocode"},o.a.createElement("button",{onClick:function(){return e.submitLocation("geo")}},"Use Current Location"))},k=function(e){return e.results.map((function(e,t){return o.a.createElement("div",{className:"result-row",key:t},o.a.createElement("p",{key:t+1},t+1,o.a.createElement("span",null,o.a.createElement(v.a,{icon:y.a})),function(e){var t=new Date(1e3*e),n=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getDate(),r=t.getHours(),c=t.getMinutes(),i=t.getSeconds();return" ".concat(o," / ").concat(a," / ").concat(n,"  at  ").concat(r,":").concat(c,":").concat(i)}(e.risetime)))}))},L=function(e){return Array.isArray(e.results)?o.a.createElement("div",{className:"results"},o.a.createElement(k,{results:e.results}),o.a.createElement(O,{reset:e.reset})):o.a.createElement("div",null,e.results?o.a.createElement("div",{className:"space-api-error"},o.a.createElement("p",null,"Space Station Api Error"),o.a.createElement("p",null,e.results),o.a.createElement("div",null,o.a.createElement(O,{reset:e.reset}))):null)},N=function(){return o.a.createElement("div",{className:"location-input-wrapper"},o.a.createElement("input",{id:"location-input",type:"text",placeholder:"Choose Location"}))},C=function(e){return o.a.createElement("div",{className:"submit-button"},o.a.createElement("button",{onClick:function(){return e.submitLocation("api")}},"Submit"))},O=function(e){return o.a.createElement("div",{className:"choose-another-location"},o.a.createElement("button",{onClick:function(){return e.reset(!0)}},"Choose Another Location"))},x=(n(45),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={lat:52.489471,lng:-1.898575,locationError:!1,spaceStationResults:null,overlayState:!0},n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=function(){document.querySelector(".loading").classList.toggle("toggle-hide")},n=function(t){e.setState({overlayState:t})};return o.a.createElement("div",{id:"page-wrapper"},o.a.createElement(S,{overlayState:this.state.overlayState,submitLocation:function(a){var o;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(),r.next=3,l.a.awrap(h(a).catch((function(n){e.setState({locationError:!0}),t()})));case 3:if(!((o=r.sent)&&o.lat&&o.lng)){r.next=17;break}return r.t0=e,r.t1=o.lat,r.t2=o.lng,r.next=10,l.a.awrap(g(o.lat,o.lng).catch((function(e){return e})));case 10:r.t3=r.sent,r.t4={lat:r.t1,lng:r.t2,spaceStationResults:r.t3},r.t0.setState.call(r.t0,r.t4),n(!1),t(),r.next=18;break;case 17:e.setState({locationError:!0});case 18:case"end":return r.stop()}}))},locationError:this.state.locationError}),o.a.createElement("div",{id:"map",className:"map"},o.a.createElement(d.Map,{initialCenter:{lat:52.489471,lng:-1.898575},center:{lat:this.state.lat,lng:this.state.lng},google:this.props.google,zoom:3,className:"map"},o.a.createElement(d.Marker,{position:{lat:this.state.lat,lng:this.state.lng},name:"Current location"})),o.a.createElement(L,{reset:n,results:this.state.spaceStationResults})))}}]),t}(a.Component)),A=Object(d.GoogleApiWrapper)({apiKey:f})(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.e1fdda37.chunk.js.map